{
  "id": "91875369-36b8-45a4-aa63-cc576bba5fb8",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.api_usage_logs": {
      "name": "api_usage_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "api_key_id": {
          "name": "api_key_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "requests_count": {
          "name": "requests_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rate_limit_window": {
          "name": "rate_limit_window",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "rate_limit_remaining": {
          "name": "rate_limit_remaining",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "window_start": {
          "name": "window_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_usage_user": {
          "name": "idx_usage_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_usage_endpoint": {
          "name": "idx_usage_endpoint",
          "columns": [
            {
              "expression": "endpoint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_usage_window": {
          "name": "idx_usage_window",
          "columns": [
            {
              "expression": "window_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_usage_created": {
          "name": "idx_usage_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "api_usage_logs_user_id_users_id_fk": {
          "name": "api_usage_logs_user_id_users_id_fk",
          "tableFrom": "api_usage_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_reason": {
          "name": "compliance_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "data_classification": {
          "name": "data_classification",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'internal'"
        },
        "retention_period_days": {
          "name": "retention_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2555
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_user": {
          "name": "idx_audit_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_action": {
          "name": "idx_audit_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_entity": {
          "name": "idx_audit_entity",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_created": {
          "name": "idx_audit_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_session": {
          "name": "idx_audit_session",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cache_entries": {
      "name": "cache_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "cache_key": {
          "name": "cache_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "cache_value": {
          "name": "cache_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "cache_type": {
          "name": "cache_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "ttl_seconds": {
          "name": "ttl_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "varchar(255)[]",
          "primaryKey": false,
          "notNull": false
        },
        "hit_count": {
          "name": "hit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_hit_at": {
          "name": "last_hit_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_cache_key": {
          "name": "idx_cache_key",
          "columns": [
            {
              "expression": "cache_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cache_type": {
          "name": "idx_cache_type",
          "columns": [
            {
              "expression": "cache_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cache_expires": {
          "name": "idx_cache_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "cache_entries_cache_key_unique": {
          "name": "cache_entries_cache_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "cache_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_access_logs": {
      "name": "data_access_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "data_type": {
          "name": "data_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "data_identifier": {
          "name": "data_identifier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "access_reason": {
          "name": "access_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "authorized": {
          "name": "authorized",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "authorization_method": {
          "name": "authorization_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "data_sensitivity": {
          "name": "data_sensitivity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'public'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_data_access_user": {
          "name": "idx_data_access_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_access_type": {
          "name": "idx_data_access_type",
          "columns": [
            {
              "expression": "data_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_access_created": {
          "name": "idx_data_access_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "data_access_logs_user_id_users_id_fk": {
          "name": "data_access_logs_user_id_users_id_fk",
          "tableFrom": "data_access_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enhanced_stocks": {
      "name": "enhanced_stocks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "change": {
          "name": "change",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "change_percent": {
          "name": "change_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "market_cap": {
          "name": "market_cap",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sector_id": {
          "name": "sector_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "industry_id": {
          "name": "industry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "exchange": {
          "name": "exchange",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "market_cap_tier": {
          "name": "market_cap_tier",
          "type": "market_cap_tier_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "dividend_yield": {
          "name": "dividend_yield",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "beta": {
          "name": "beta",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "sector": {
          "name": "sector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "eps": {
          "name": "eps",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pe_ratio": {
          "name": "pe_ratio",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_enhanced_stocks_symbol": {
          "name": "idx_enhanced_stocks_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enhanced_stocks_sector": {
          "name": "idx_enhanced_stocks_sector",
          "columns": [
            {
              "expression": "sector_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enhanced_stocks_exchange": {
          "name": "idx_enhanced_stocks_exchange",
          "columns": [
            {
              "expression": "exchange",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enhanced_stocks_market_cap_tier": {
          "name": "idx_enhanced_stocks_market_cap_tier",
          "columns": [
            {
              "expression": "market_cap_tier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "enhanced_stocks_symbol_unique": {
          "name": "enhanced_stocks_symbol_unique",
          "nullsNotDistinct": false,
          "columns": [
            "symbol"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enhanced_watchlists": {
      "name": "enhanced_watchlists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_enhanced_watchlists_user": {
          "name": "idx_enhanced_watchlists_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enhanced_watchlists_category": {
          "name": "idx_enhanced_watchlists_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.portfolio_holdings": {
      "name": "portfolio_holdings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "portfolio_id": {
          "name": "portfolio_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(15, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "average_cost_cents": {
          "name": "average_cost_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "current_price_cents": {
          "name": "current_price_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "market_value_cents": {
          "name": "market_value_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unrealized_pnl_cents": {
          "name": "unrealized_pnl_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "realized_pnl_cents": {
          "name": "realized_pnl_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "weight_percent": {
          "name": "weight_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "day_change_cents": {
          "name": "day_change_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "day_change_percent": {
          "name": "day_change_percent",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "first_purchase_date": {
          "name": "first_purchase_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_transaction_date": {
          "name": "last_transaction_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_holdings_portfolio": {
          "name": "idx_holdings_portfolio",
          "columns": [
            {
              "expression": "portfolio_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_holdings_symbol": {
          "name": "idx_holdings_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_holdings_updated": {
          "name": "idx_holdings_updated",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "portfolio_holdings_portfolio_id_portfolios_id_fk": {
          "name": "portfolio_holdings_portfolio_id_portfolios_id_fk",
          "tableFrom": "portfolio_holdings",
          "tableTo": "portfolios",
          "columnsFrom": [
            "portfolio_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_portfolio_symbol": {
          "name": "unique_portfolio_symbol",
          "nullsNotDistinct": false,
          "columns": [
            "portfolio_id",
            "symbol"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.portfolio_transactions": {
      "name": "portfolio_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "portfolio_id": {
          "name": "portfolio_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "transaction_type_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(15, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "price_cents": {
          "name": "price_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "fees_cents": {
          "name": "fees_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_amount_cents": {
          "name": "total_amount_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_date": {
          "name": "transaction_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "broker": {
          "name": "broker",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "reference_id": {
          "name": "reference_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_transactions_portfolio": {
          "name": "idx_transactions_portfolio",
          "columns": [
            {
              "expression": "portfolio_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_symbol": {
          "name": "idx_transactions_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_date": {
          "name": "idx_transactions_date",
          "columns": [
            {
              "expression": "transaction_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_type": {
          "name": "idx_transactions_type",
          "columns": [
            {
              "expression": "transaction_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "portfolio_transactions_portfolio_id_portfolios_id_fk": {
          "name": "portfolio_transactions_portfolio_id_portfolios_id_fk",
          "tableFrom": "portfolio_transactions",
          "tableTo": "portfolios",
          "columnsFrom": [
            "portfolio_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.portfolios": {
      "name": "portfolios",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "benchmark_symbol": {
          "name": "benchmark_symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'SPY'"
        },
        "total_value_cents": {
          "name": "total_value_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_cost_cents": {
          "name": "total_cost_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_return_cents": {
          "name": "total_return_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_return_percent": {
          "name": "total_return_percent",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "day_change_cents": {
          "name": "day_change_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "day_change_percent": {
          "name": "day_change_percent",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "beta": {
          "name": "beta",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "sharpe_ratio": {
          "name": "sharpe_ratio",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "volatility": {
          "name": "volatility",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "max_drawdown": {
          "name": "max_drawdown",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_portfolios_user": {
          "name": "idx_portfolios_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_portfolios_updated": {
          "name": "idx_portfolios_updated",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "portfolios_user_id_users_id_fk": {
          "name": "portfolios_user_id_users_id_fk",
          "tableFrom": "portfolios",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_portfolio_name": {
          "name": "unique_user_portfolio_name",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stock_fundamentals": {
      "name": "stock_fundamentals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "fiscal_year": {
          "name": "fiscal_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "fiscal_quarter": {
          "name": "fiscal_quarter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_cents": {
          "name": "revenue_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "gross_profit_cents": {
          "name": "gross_profit_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "operating_income_cents": {
          "name": "operating_income_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "net_income_cents": {
          "name": "net_income_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "eps": {
          "name": "eps",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "total_assets_cents": {
          "name": "total_assets_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_debt_cents": {
          "name": "total_debt_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "shareholders_equity_cents": {
          "name": "shareholders_equity_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "book_value_per_share": {
          "name": "book_value_per_share",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "operating_cash_flow_cents": {
          "name": "operating_cash_flow_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "free_cash_flow_cents": {
          "name": "free_cash_flow_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "capital_expenditures_cents": {
          "name": "capital_expenditures_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "pe_ratio": {
          "name": "pe_ratio",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "pb_ratio": {
          "name": "pb_ratio",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "debt_to_equity": {
          "name": "debt_to_equity",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "roe": {
          "name": "roe",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "roa": {
          "name": "roa",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "current_ratio": {
          "name": "current_ratio",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "report_date": {
          "name": "report_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fundamentals_symbol": {
          "name": "idx_fundamentals_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fundamentals_year": {
          "name": "idx_fundamentals_year",
          "columns": [
            {
              "expression": "fiscal_year",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_symbol_year_quarter": {
          "name": "unique_symbol_year_quarter",
          "nullsNotDistinct": false,
          "columns": [
            "symbol",
            "fiscal_year",
            "fiscal_quarter"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_history": {
      "name": "subscription_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "old_tier": {
          "name": "old_tier",
          "type": "subscription_tier_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "new_tier": {
          "name": "new_tier",
          "type": "subscription_tier_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "old_status": {
          "name": "old_status",
          "type": "subscription_status_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "new_status": {
          "name": "new_status",
          "type": "subscription_status_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "change_reason": {
          "name": "change_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_subscription_history_user": {
          "name": "idx_subscription_history_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subscription_history_created": {
          "name": "idx_subscription_history_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscription_history_user_id_users_id_fk": {
          "name": "subscription_history_user_id_users_id_fk",
          "tableFrom": "subscription_history",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_plans": {
      "name": "subscription_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(50)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price_cents": {
          "name": "price_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'EUR'"
        },
        "billing_interval": {
          "name": "billing_interval",
          "type": "billing_interval_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "trial_days": {
          "name": "trial_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "features": {
          "name": "features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "limits": {
          "name": "limits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "whop_product_id": {
          "name": "whop_product_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_consents": {
      "name": "user_consents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "consent_type": {
          "name": "consent_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "consent_version": {
          "name": "consent_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "granted": {
          "name": "granted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_consent_user": {
          "name": "idx_consent_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_consent_type": {
          "name": "idx_consent_type",
          "columns": [
            {
              "expression": "consent_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_consent_granted": {
          "name": "idx_consent_granted",
          "columns": [
            {
              "expression": "granted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_consents_user_id_users_id_fk": {
          "name": "user_consents_user_id_users_id_fk",
          "tableFrom": "user_consents",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "language": {
          "name": "language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "subscription_tier": {
          "name": "subscription_tier",
          "type": "subscription_tier_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "subscription_status_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "subscription_start_date": {
          "name": "subscription_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_end_date": {
          "name": "subscription_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trial_end_date": {
          "name": "trial_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "whop_order_id": {
          "name": "whop_order_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "notification_settings": {
          "name": "notification_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "phone_verified": {
          "name": "phone_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "two_factor_enabled": {
          "name": "two_factor_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "login_count": {
          "name": "login_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_users_email": {
          "name": "idx_users_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_subscription": {
          "name": "idx_users_subscription",
          "columns": [
            {
              "expression": "subscription_tier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subscription_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_created_at": {
          "name": "idx_users_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.watchlist_performance": {
      "name": "watchlist_performance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "watchlist_id": {
          "name": "watchlist_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "total_return_percent": {
          "name": "total_return_percent",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "day_change_percent": {
          "name": "day_change_percent",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "best_performer_symbol": {
          "name": "best_performer_symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "worst_performer_symbol": {
          "name": "worst_performer_symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_pe_ratio": {
          "name": "avg_pe_ratio",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_market_cap_millions": {
          "name": "avg_market_cap_millions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_watchlist_perf_date": {
          "name": "idx_watchlist_perf_date",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "watchlist_performance_watchlist_id_enhanced_watchlists_id_fk": {
          "name": "watchlist_performance_watchlist_id_enhanced_watchlists_id_fk",
          "tableFrom": "watchlist_performance",
          "tableTo": "enhanced_watchlists",
          "columnsFrom": [
            "watchlist_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_watchlist_date": {
          "name": "unique_watchlist_date",
          "nullsNotDistinct": false,
          "columns": [
            "watchlist_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.billing_interval_enum": {
      "name": "billing_interval_enum",
      "schema": "public",
      "values": [
        "month",
        "year",
        "lifetime"
      ]
    },
    "public.market_cap_tier_enum": {
      "name": "market_cap_tier_enum",
      "schema": "public",
      "values": [
        "nano",
        "micro",
        "small",
        "mid",
        "large",
        "mega"
      ]
    },
    "public.subscription_status_enum": {
      "name": "subscription_status_enum",
      "schema": "public",
      "values": [
        "trial",
        "active",
        "past_due",
        "cancelled",
        "expired"
      ]
    },
    "public.subscription_tier_enum": {
      "name": "subscription_tier_enum",
      "schema": "public",
      "values": [
        "free",
        "premium",
        "whop_community",
        "enterprise"
      ]
    },
    "public.transaction_type_enum": {
      "name": "transaction_type_enum",
      "schema": "public",
      "values": [
        "buy",
        "sell",
        "dividend",
        "split",
        "merger",
        "spinoff"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}